{"componentChunkName":"component---src-templates-blog-post-js","path":"/6-ways-to-compose-your-react-components/","result":{"data":{"site":{"siteMetadata":{"title":"Tech with Seth","author":"Seth Davis"}},"mdx":{"id":"45bfe735-db8d-570d-87dd-263bbe5a725a","excerpt":"Intro I'm very passionate about composition. Its a core principle of React and if leveraged properly, it can make building applications much easier. I hopeâ€¦","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"6 Ways to Compose your React Components\",\n  \"date\": \"2020-08-02T12:00:00.000Z\",\n  \"updated\": \"2020-08-03T12:00:00.000Z\",\n  \"description\": \"Compose your React components together for greater flexibility and reusability.\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar CodePen = makeShortcode(\"CodePen\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(Message, {\n    className: \"is-info\",\n    mdxType: \"Message\"\n  }, mdx(\"strong\", null, \"tl;dr\"), \" - Compose your React components together for greater flexibility and reusability.\"), mdx(\"h2\", null, \"Intro\"), mdx(\"p\", null, \"I\\u2019m very passionate about composition. Its a core principle of React and if leveraged properly, it can make building applications much easier. I hope after reading this article you will gain an awareness of the different ways to compose your components. Let\\u2019s take a look.\"), mdx(\"h3\", null, \"A common approach\"), mdx(\"p\", null, \"I call it the \\u201Ctunnel\\u201D approach. Let\\u2019s say you want to have an \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Earth\"), \" component. Each layer of the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Earth\"), \" is a component. One might create an \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Earth\"), \" component, embed a \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Crust\"), \" component inside that component. Inside the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Crust\"), \" component, embed a \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Mantle\"), \" component so on and so forth. This comes with a few drawbacks.\"), mdx(\"h4\", null, \"Pros\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"None\")), mdx(\"h4\", null, \"Cons\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Abstracts/hides components\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Jumping from component to component can be taxing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Prop passing can become inflated\")), mdx(CodePen, {\n    codePenId: \"XWmwRzY\",\n    mdxType: \"CodePen\"\n  }), mdx(\"h3\", null, \"Prop drilling example\"), mdx(\"p\", null, \"If you find yourself passing props in this fashion, try to leverage composition and/or break your components down into smaller ones in order to limit prop passing.\"), mdx(CodePen, {\n    codePenId: \"jOWbmPa\",\n    mdxType: \"CodePen\"\n  }), mdx(\"h2\", null, \"Types of composition\"), mdx(\"p\", null, \"Instead of tunneling there are a variety of ways we can compose components together.\"), mdx(\"h3\", null, \"1. Children prop (\", mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/jsx-in-depth.html#children-in-jsx\"\n  }), \"React docs\"), \")\"), mdx(\"p\", null, \"Using the children prop is React\\u2019s foundational way of composition. The children prop can and should be combined with other forms of composition (i.e. Specialization). Use the children prop to pass child elements directly into the output of the parent.\"), mdx(Message, {\n    mdxType: \"Message\"\n  }, \"In the example below, we solve the prop drilling issue by leveraging composition and passing the function directly to the component instead of passing it through multiple components.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Usage Notes\")), mdx(\"p\", null, \"The children prop is a foundational technique to compose components - always use the children props when you can.\"), mdx(\"h4\", null, \"Pros\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Declarative\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Make your code more predictable and easier to debug\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Wins over the \\u201Ctunnel\\u201D method (above) due to visual representation of how components are composed.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Flexible\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Components can easily be reordered\")))), mdx(\"h4\", null, \"Cons\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"None\")), mdx(CodePen, {\n    codePenId: \"KKdLmGy\",\n    mdxType: \"CodePen\"\n  }), mdx(\"h3\", null, \"2. Specialization (\", mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/composition-vs-inheritance.html\"\n  }), \"React docs\"), \")\"), mdx(\"p\", null, \"A specialized component is one that composes several small components together to form a larger, more complete component. Note how the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Earth\"), \" component contains all of the additional layers within it while the inner layers are still nested within each other like the example above. Here we\\u2019re combining the two styles of composition.\"), mdx(\"p\", null, \"For the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://bradfrost.com/blog/post/atomic-web-design/\"\n  }), \"Atomic Design\"), \" fans out there, a \\u201Cspecialized\\u201D component would be your \\u201Cmolecules\\u201D and/or \\u201Corganisms\\u201D.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Usage Notes\")), mdx(\"p\", null, \"This method of composition is very common and should be used regularly along with the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"children\"), \" prop.\"), mdx(\"h4\", null, \"Pros\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Portable/Reusable\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Everything you need is contained in one component\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"No need to repeat yourself\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Pairs well with the children prop\")), mdx(\"h4\", null, \"Cons\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Less flexible\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"May contain unwanted components\")))), mdx(CodePen, {\n    codePenId: \"MWaLQwB\",\n    mdxType: \"CodePen\"\n  }), mdx(\"h3\", null, \"3. Prop-defined composition (\", mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/composition-vs-inheritance.html\"\n  }), \"React docs\"), \")\"), mdx(\"p\", null, \"Using a prop, you can define where you want your sub components to live.\"), mdx(\"p\", null, \"In the example below, the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"SolarSystem\"), \" component has a left and right prop defining where the passed in components will be composed.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Usage Notes\")), mdx(\"p\", null, \"This method is helpful when you\\u2019re wanting to constrict where elements can be placed. Helpful for layout-based components - should be used with discretion.\"), mdx(\"h4\", null, \"Pros\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Declarative\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Make your code more predictable\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Useful for layout components\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Can be combined with children prop and specialization\")), mdx(\"h4\", null, \"Cons\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Less flexible\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Props or \\u201Cslots\\u201D restrict where components live\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Too many props can make the component API confusing\")), mdx(CodePen, {\n    codePenId: \"bGVyqvX\",\n    mdxType: \"CodePen\"\n  }), mdx(\"h3\", null, \"4. Higher order components (\", mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/higher-order-components.html\"\n  }), \"React docs\"), \")\"), mdx(\"p\", null, \"A more advanced technique used to share behavior between components.\"), mdx(\"p\", null, \"In this example we\\u2019ve given \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Earth\"), \" the ability to track the mouse cursor while hovering over the component.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Usage Notes\")), mdx(\"p\", null, \"While this was a very popular way to share behaviors between components, in my opinion, it is no longer the method of choice. Use with caution as it can easily be overused.\"), mdx(\"h4\", null, \"Pros\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Easily enhance/share functionality with other component\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Pairs well with specialized components\")), mdx(\"h4\", null, \"Cons\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Passed props are implicit dependencies\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It can get confusing to understand where props are coming from vs directly importing the behavior you depend on in the components that use it.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Using lots of HOCs with lots of props can cause prop collisions (\", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://medium.com/javascript-scene/do-react-hooks-replace-higher-order-components-hocs-7ae4a08b7b58\"\n  }), \"Source\"), \")\")), mdx(CodePen, {\n    codePenId: \"RwWmgLp\",\n    mdxType: \"CodePen\"\n  }), mdx(\"h3\", null, \"5. Render props (\", mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/render-props.html\"\n  }), \"React docs\"), \")\"), mdx(\"p\", null, \"This technique is very similar to a higher order component in that it too shares behavior.\"), mdx(\"p\", null, \"In this example we\\u2019ve replicated what\\u2019s happening in the HOC example but are composing it together via render props.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Usage Notes\")), mdx(\"p\", null, \"An excellent way to reuse or share behavior.\"), mdx(\"h4\", null, \"Pros\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Declarative\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Easier to read/understand over HOC\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Pairs well with specialized components\")), mdx(\"h4\", null, \"Cons\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"When trying to nest multiple render props, it can get gnarly.\")), mdx(CodePen, {\n    codePenId: \"pojmroX\",\n    mdxType: \"CodePen\"\n  }), mdx(\"h3\", null, \"6. Custom Hooks (\", mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/hooks-intro.html\"\n  }), \"React docs\"), \")\"), mdx(\"p\", null, \"The latest and greatest way to compose the same behavior across components using hooks.\"), mdx(\"p\", null, \"In this example we\\u2019ve replicated what\\u2019s happening in the HOC and the render prop example using a custom hook. The \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"useCoordinates\"), \" hook is a simple function that composes React\\u2019s \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"useState\"), \" function. It keeps track of the user\\u2019s mouse location. The second item we return from our custom hook is an \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"onMouseOver\"), \" handler that gets passed to the component we want to enable with this behavior.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Usage Notes\")), mdx(\"p\", null, \"The best way to share functionality with other components, its function based and makes writing components a delight!\"), mdx(\"h4\", null, \"Pros\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Highly portable\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Share functionality across components\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Works well with an function component\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Can be mixed and match with the other styles of composition\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Children prop\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Specialization\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Prop-defined\")))), mdx(\"h4\", null, \"Cons\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \\u201D\", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/hooks-overview.html#rules-of-hooks\"\n  }), \"Rules of Hooks\"), \"\\u201D have to be respected\")), mdx(CodePen, {\n    codePenId: \"oNbXKPO\",\n    mdxType: \"CodePen\"\n  }), mdx(\"h2\", null, \"In summary\\u2026\"), mdx(\"p\", null, \"Adding composition to your React apps will greatly enhance your components flexibility and reusability. When building, my suggestion is to mix and match composition styles to best suite your needs. I tend to gravitate towards using the children prop, specialized components, and custom hooks. I find this combo to be concise. Its all function based, there\\u2019s no odd syntax. Do you have a favorite combination? Let me know in the comments!\"), mdx(\"h3\", null, \"Additional examples\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://codepen.io/sethdavis512/pen/rNORLON\"\n  }), \"React.Children() API Example\"), \" (\", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/react-api.html#reactchildren\"\n  }), \"React docs\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://codepen.io/sethdavis512/pen/GLvZBV\"\n  }), \"Component Carousel\"))), mdx(\"h3\", null, \"Additional links\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://mxstbr.blog/2017/02/react-children-deepdive/\"\n  }), \"A deep dive into children in React\"), \"\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kentcdodds.com/blog/when-to-not-use-render-props\"\n  }), \"When to NOT use Render Props\"), \"\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.youtube.com/watch?v=BcVAq3YFiuc&feature=youtu.be\"\n  }), \"[VIDEO] Never Write Another HOC\"), \"\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.youtube.com/watch?v=1jWS7cCuUXw\"\n  }), \"[VIDEO] Fun with Hooks\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"6 Ways to Compose your React Components","date":"August 02, 2020","updated":"August 03, 2020","description":"Compose your React components together for greater flexibility and reusability."}}},"pageContext":{"slug":"/6-ways-to-compose-your-react-components/","previous":{"fields":{"slug":"/intro-post/"},"frontmatter":{"title":"Howdy y'all!"}},"next":null}},"staticQueryHashes":["3070687993","63159454"]}